<!DOCTYPE html>
<html>
    <head>
        <title>warp-engine example</title>
    </head>
    <div>messages:</div>
    <div id="messages"></div>
    <body>
        <script src="bower_components/reconnectingWebsocket/reconnecting-websocket.js" type="text/javascript"></script>
        <script src="warp.js" type="text/javascript"></script>
        <script type="text/javascript">
            var warp = new Warp({'debug': true});
            warp.subscribe("default", function(msg) {
		        var stringify = JSON.stringify(msg);
                console.log("[client] receive: "+stringify);
                var messages = document.getElementById('messages');
                var node = document.createElement("p");
        		var textnode = document.createTextNode(stringify);
        		node.appendChild(textnode);
        		messages.appendChild(node);
            })

            console.log("[client] all channels: "+JSON.stringify(warp.allChannels()))  

            warp.beam("default", {"spock": "beam me up, scotty!"});
        </script>
    </body>
</html>
